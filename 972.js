"use strict";(self.webpackChunkotus_js_basic_cost=self.webpackChunkotus_js_basic_cost||[]).push([[972],{5972:(n,e,s)=>{s.r(e),s.d(e,{Dashboard:()=>D,default:()=>O});var t=s(7294),a=s(9131),i=s(3349),o=s(6550),l=s(3379),r=s.n(l),d=s(7795),c=s.n(d),p=s(569),g=s.n(p),m=s(3565),u=s.n(m),x=s(9216),h=s.n(x),b=s(4589),_=s.n(b),f=s(741),y={};y.styleTagTransform=_(),y.setAttributes=u(),y.insert=g().bind(null,"head"),y.domAPI=c(),y.insertStyleElement=h(),r()(f.Z,y),f.Z&&f.Z.locals&&f.Z.locals;var j=s(5007),w=s(3616);const v=()=>new Date;var C=s(3727),k=s(2930),N={};N.styleTagTransform=_(),N.setAttributes=u(),N.insert=g().bind(null,"head"),N.domAPI=c(),N.insertStyleElement=h(),r()(k.Z,N),k.Z&&k.Z.locals&&k.Z.locals;var Z=s(5893);const S=n=>{return(0,Z.jsxs)("div",{className:"category",children:[(0,Z.jsxs)("div",{className:"category__input",children:[(0,Z.jsx)("input",{type:"radio",name:"category",value:n.id,onChange:()=>{n.onCategoryChecked&&n.onCategoryChecked(n.id)}}),(0,Z.jsx)("label",{htmlFor:`${n.id}`,children:n.name})]}),n.visible&&n.subCategories&&(e=n.id,s=Object.values(n.subCategories),t=n.onSubcategoryChecked,s?(0,Z.jsxs)("select",{className:"input",onChange:()=>{if(t){const n=document.getElementById(`sub-${e}`);t(n.value)}},name:"subCategory",id:`sub-${e}`,children:[(0,Z.jsx)("option",{value:"",children:"--choose subcategory--"},""),s.map((n=>(0,Z.jsx)("option",{value:n.id,children:n.name},n.id)))]}):null)]});var e,s,t};var I=s(468),A=s(9198),E=s.n(A),T=s(694),z={};z.styleTagTransform=_(),z.setAttributes=u(),z.insert=g().bind(null,"head"),z.domAPI=c(),z.insertStyleElement=h(),r()(T.Z,z),T.Z&&T.Z.locals&&T.Z.locals,s(9339);const F=n=>{const e=(0,j.v9)((n=>n.settings.categories)),[s,o,l]=(0,i.F_)(a.I8),[r,d]=(0,t.useState)(null),[c,p]=(0,t.useState)(""),[g,m]=(0,t.useState)(""),[u,x]=(0,t.useState)(v),h=(0,j.I0)();return 0===Object.values(e).length?(0,Z.jsx)("div",{className:"overlay",children:(0,Z.jsxs)("div",{className:"modal",children:[(0,Z.jsx)("button",{onClick:()=>{n.onCloseClick()},className:"close__btn",children:(0,Z.jsx)("i",{className:"fa-regular fa-circle-xmark"})}),(0,Z.jsxs)("fieldset",{className:"fieldset",children:[(0,Z.jsx)("legend",{className:"fieldset__legend",children:"Categories list is empty"}),(0,Z.jsxs)("p",{className:"fieldset__categories_empty",children:["Categories list is empty now.",(0,Z.jsx)("br",{}),"Click"," ",(0,Z.jsx)(C.rU,{className:"link",to:"/categories",children:"Categories"})," ","for categories adding"]})]})]})}):(0,Z.jsx)("div",{className:"overlay",children:(0,Z.jsxs)("div",{className:"modal",children:[(0,Z.jsx)("button",{onClick:()=>{n.onCloseClick()},className:"close__btn",children:(0,Z.jsx)("i",{className:"fa-regular fa-circle-xmark"})}),(0,Z.jsxs)("fieldset",{className:"fieldset",children:[(0,Z.jsx)("legend",{className:"fieldset__legend",children:"Add new Cost"}),(0,Z.jsxs)("div",{className:"date",children:[(0,Z.jsx)("label",{htmlFor:"date",children:"Choose date:"}),(0,Z.jsx)(E(),{className:"input",id:"date",dateFormat:"dd-MM-yyyy",selected:u,onChange:n=>{x(n)}})]}),(0,Z.jsxs)("div",{className:"categories-radio",children:[(0,Z.jsx)("h3",{className:"categories-radio__header",children:"Select category"}),Object.values(e).map(((n,e,s)=>(0,Z.jsx)(S,{id:n.id,name:n.name,subCategories:n.subCategories,visible:n.id===c,onCategoryChecked:()=>{p(n.id)},onSubcategoryChecked:n=>{m(n)}},n.id)))]}),(0,Z.jsx)("input",{className:"input",id:"cost-count",type:"text",name:"cost-count",placeholder:"Please input cost",onChange:()=>{const n=document.getElementById("cost-count");n&&d(Number(n.value))}}),(0,Z.jsx)("button",{className:"btn-primary .add-btn",onClick:()=>{r&&h((0,I.pv)({categoryId:c,subCategoryId:g,count:r,costDate:u.setHours(0,0,0,0).toString(),userId:s.uid})),d(null),n.onCloseClick()},children:"Add"})]})]})})},$=t.lazy((()=>s.e(683).then(s.bind(s,683)))),D=()=>{const[n,e,s]=(0,i.F_)(a.I8),[l,r]=(0,t.useState)(!1),[d,c]=(0,t.useState)((()=>{const n=new Date,e=n.toLocaleString("en",{month:"long"}),s=n.getFullYear();return`${n.getDate()} ${e} ${s}`})()),p=(0,j.v9)((n=>n.settings.categories)),g=((0,j.v9)((n=>n.settings.loading)),(0,o.k6)()),m=(0,j.I0)();return(0,t.useEffect)((()=>{if(!e)return n?void m((0,w.pE)(n.uid)):g.push("/")}),[n,e]),(0,Z.jsxs)("div",{className:"dashboard",children:[(0,Z.jsxs)("p",{className:"dashboard__date",children:["Today: ",d]}),(0,Z.jsx)("div",{className:"dashboard__container",children:(0,Z.jsx)("div",{className:"dashboard__container",children:(0,Z.jsxs)("div",{className:"container__statistics",children:[(0,Z.jsx)("h2",{className:"statistics__header",children:"Cost statistics"}),Object.values(p)?(0,Z.jsx)("div",{className:"statistics__add add",children:(0,Z.jsx)("button",{className:"button btn-primary add-cost-btn",onClick:()=>{r(!l)},children:"Add Cost"})}):"",Object.values(p).length>0?(0,Z.jsx)($,{}):(0,Z.jsxs)("p",{className:"statistics__categories_empty",children:[" ","Categories list is empty now.",(0,Z.jsx)("br",{}),"Click"," ",(0,Z.jsx)(C.rU,{className:"link",to:"/categories",children:"Categories"})," ","for categories adding"]})]})})}),l&&(0,Z.jsx)(F,{onCloseClick:()=>{r(!1)}})]})},O=D},2930:(n,e,s)=>{s.d(e,{Z:()=>l});var t=s(8081),a=s.n(t),i=s(3645),o=s.n(i)()(a());o.push([n.id,".category {\n    display: flex;\n    flex-flow: column nowrap;\n    row-gap: 1rem;\n}\n\n.category__input {\n    display: flex;\n    column-gap: 1rem;\n    \n}\n",""]);const l=o},741:(n,e,s)=>{s.d(e,{Z:()=>l});var t=s(8081),a=s.n(t),i=s(3645),o=s.n(i)()(a());o.push([n.id,".dashboard {\n  display: flex;\n  flex-flow: column;\n}\n\n.dashboard__container {\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n  margin-top: 30px;\n}\n\n.dashboard__date {\n  align-self: flex-end;\n}\n\n.dashboard__statistics {\n  display: flex;\n  flex-flow: row nowrap;\n}\n\n.dashboard__btn {\n  padding: 10px;\n  font-size: 18px;\n  margin-top: 10px;\n  border: none;\n  color: white;\n  background-color: black;\n}\n\n.container__statistics {\n  width: 100%;\n  display: flex;\n  position: relative;\n  background-color: whitesmoke;\n  justify-content: space-between;\n  padding: 20px;\n  border-radius: 20px;\n  min-height: 500px;\n}\n\n.statistics__filter {\n  margin-top: 30px;\n  display: flex;\n  column-gap: 20px;\n  flex-wrap: nowrap;\n}\n\n.statistics {\n  margin-top: 50px;\n  width: 100%;\n  position: relative;\n}\n\n.statistics__categories_empty {\n  align-self: center;\n  margin-top: -100px;\n  margin-left: auto;\n  margin-right: auto;\n  text-align: center;\n  font-size: 1.8rem;\n}\n\n.statistics__header {\n  position: absolute;\n  width: 100%;\n  text-align: center;\n}\n\n.statistics__info {\n  display: flex;\n  justify-content: space-between;\n  margin-top: 20px;\n  width: 100%;\n}\n\n.statistics__add {\n  position: absolute;\n  order: -1;\n  z-index: 2;\n}\n\n.statistics__graphics {\n}\n\n.statistics__info {\n  display: flex;\n  flex-flow: row wrap;\n}\n\n.info__graphics {\n}\n\n.info__table {\n  order: -1;\n  flex-basis: 60%;\n}\n\n",""]);const l=o},694:(n,e,s)=>{s.d(e,{Z:()=>l});var t=s(8081),a=s.n(t),i=s(3645),o=s.n(i)()(a());o.push([n.id,".overlay {\n  position: absolute;\n  z-index: 5;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: rgba(31, 42, 61, 0.5);\n}\n\n.modal {\n  margin-top: -150px;\n  color: whitesmoke;\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  row-gap: 20px;\n  top: 30%;\n  left: 50%;\n  transform: translateX(-50%);\n  background-color: rgba(63, 106, 179, 0.993);\n  padding: 20px;\n  border-radius: 10px;\n  width: 400px;\n  box-shadow: 5px 5px 10px rgba(52, 56, 63, 0.993);\n}\n\n.modal__close {\n  position: relative;\n  width: 100%;\n}\n\n.close__btn {\n  position: absolute;\n  right:8px;\n  top: 10px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n}\n\n.close__icon {\n  width: 25px;\n  object-fit: contain;\n}\n\n.fieldset {\n  display: flex;\n  width: 100%;\n  flex-flow: column;\n  row-gap: 1.5rem;\n  border: none;\n  max-width: 80%;\n  margin: 0 auto;\n}\n\n.fieldset__legend {\n  width: 100%;\n  text-align: center;\n  font-size: 1.4rem;\n  font-weight: 600;\n}\n\n.fieldset__categories_empty {\n  margin-top: 1rem;\n  text-align: center;\n  line-height: 1.5rem;\n}\n\n.date {\n  margin-top: 10px;\n  display: flex;\n  flex-flow: column nowrap;\n  row-gap: 1rem;\n}\n\n.categories-radio {\n  display: flex;\n  flex-flow: column nowrap;\n  row-gap: 1rem;\n}\n\n.link {\n  text-decoration: underline;\n  color: inherit;\n}\n\n.link:visited {\n  color: inherit;\n}\n\n.link:hover {\n  color: rgb(176, 180, 185);\n}\n\n.modal .input {\n  padding: 12px 5px;\n  width: 100%; \n }\n",""]);const l=o}}]);