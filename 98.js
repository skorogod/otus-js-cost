"use strict";(self.webpackChunkotus_js_basic_cost=self.webpackChunkotus_js_basic_cost||[]).push([[98],{4098:(e,t,s)=>{s.r(t),s.d(t,{Statistics:()=>k,default:()=>C});var a=s(7294),n=s(5007),l=s(9198),i=s.n(l),c=s(3379),o=s.n(c),r=s(7795),d=s.n(r),u=s(569),m=s.n(u),h=s(3565),j=s.n(h),b=s(9216),f=s.n(b),g=s(4589),v=s.n(g),_=s(7617),y={};y.styleTagTransform=v(),y.setAttributes=j(),y.insert=m().bind(null,"head"),y.domAPI=d(),y.insertStyleElement=f(),o()(_.Z,y),_.Z&&_.Z.locals&&_.Z.locals;var x=s(5893);const p=a.lazy((()=>Promise.all([s.e(50),s.e(54)]).then(s.bind(s,9054)))),D=a.lazy((()=>s.e(484).then(s.bind(s,9484))));function N(e,t){let s=[];return function e(t,a){for(let n in t)"object"==typeof t[n]&&Object.values(t[n]).length>0&&(n===a?(console.log(t[n]),s.push({...t[n]})):e(t[n],a))}(e,t),console.log(s),s}const k=e=>{const t=(0,n.v9)((e=>e.settings.categories)),[s,l]=(0,a.useState)(""),[c,o]=(0,a.useState)(null),[r,d]=(0,a.useState)(null),u=(m=s?{data:t[s].subCategories,fromDate:c,toDate:r}:{data:t,fromDate:c,toDate:r},Object.entries(m.data).map((e=>({id:e[1].id,name:e[1].name,count:N(e[1],"dates").map((e=>(!m.fromDate||Number(Object.keys(e)[0])>=m.fromDate.getTime())&&(!m.toDate||Number(Object.keys(e)[0])<=m.toDate.getTime())?Object.values(e)[0].total:0)).reduce(((e,t)=>e+t),0)}))));var m;return(0,x.jsxs)("div",{className:"statistics",children:[(0,x.jsxs)("div",{className:"statistics__filter filter",children:[(0,x.jsx)("div",{className:"filter__category",children:(0,x.jsxs)("select",{name:"category-select",id:"category-selectr",onChange:e=>{l(e.target.value)},children:[(0,x.jsx)("option",{value:"",children:"All Categories"}),Object.values(t).map((e=>(0,x.jsx)("option",{value:e.id,children:e.name})))]})}),(0,x.jsx)("div",{className:"filter__date",children:(0,x.jsx)(i(),{dateFormat:"dd-MM-yyyy",selected:c,onChange:e=>{const[t,s]=e;o(t),d(s)},startDate:c,endDate:r,selectsRange:!0,placeholderText:"Filter by Date"})})]}),(0,x.jsxs)("div",{className:"statistics__info info",children:[(0,x.jsx)("div",{className:"info__graphics",children:u?(0,x.jsx)(p,{data:u}):""}),(0,x.jsx)("div",{className:"info__table",children:u?(0,x.jsx)(D,{data:u}):""})]})]})},C=k},7617:(e,t,s)=>{s.d(t,{Z:()=>c});var a=s(8081),n=s.n(a),l=s(3645),i=s.n(l)()(n());i.push([e.id,"",""]);const c=i}}]);