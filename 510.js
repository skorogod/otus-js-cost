"use strict";(self.webpackChunkotus_js_basic_cost=self.webpackChunkotus_js_basic_cost||[]).push([[510],{510:(n,e,s)=>{s.r(e),s.d(e,{Dashboard:()=>$,default:()=>D});var t=s(7294),a=s(9131),i=s(3349),o=s(6550),d=s(3379),l=s.n(d),r=s(7795),c=s.n(r),u=s(569),p=s.n(u),h=s(3565),x=s.n(h),g=s(9216),b=s.n(g),m=s(4589),f=s.n(m),_=s(741),y={};y.styleTagTransform=f(),y.setAttributes=x(),y.insert=p().bind(null,"head"),y.domAPI=c(),y.insertStyleElement=b(),l()(_.Z,y),_.Z&&_.Z.locals&&_.Z.locals;var j=s(5007),v=s(3616);const w=()=>new Date;var C=s(5893);const k=n=>{return(0,C.jsxs)("div",{className:"category",children:[(0,C.jsx)("input",{type:"radio",name:"category",value:n.id,onChange:()=>{n.onCategoryChecked&&n.onCategoryChecked(n.id)}}),(0,C.jsx)("label",{htmlFor:`${n.id}`,children:n.name}),n.visible&&n.subCategories&&(e=n.id,s=Object.values(n.subCategories),t=n.onSubcategoryChecked,s?(0,C.jsxs)("select",{onChange:()=>{if(t){const n=document.getElementById(`sub-${e}`);t(n.value)}},name:"subCategory",id:`sub-${e}`,children:[(0,C.jsx)("option",{value:"",children:"--choose subcategory--"}),s.map((n=>(0,C.jsx)("option",{value:n.id,children:n.name},n.id)))]}):null)]});var e,s,t};var N=s(468),S=s(9198),I=s.n(S),Z=s(694),A={};A.styleTagTransform=f(),A.setAttributes=x(),A.insert=p().bind(null,"head"),A.domAPI=c(),A.insertStyleElement=b(),l()(Z.Z,A),Z.Z&&Z.Z.locals&&Z.Z.locals,s(9339);const E=()=>{const n=(0,j.v9)((n=>n.settings.categories)),[e,s,o]=(0,i.F_)(a.I8),[d,l]=(0,t.useState)(null),[r,c]=(0,t.useState)(""),[u,p]=(0,t.useState)(""),[h,x]=(0,t.useState)(w),g=(0,j.I0)();return(0,C.jsxs)("div",{className:"modal",children:[(0,C.jsxs)("fieldset",{className:"fieldset",children:[(0,C.jsx)("legend",{children:"Add new Cost"}),(0,C.jsxs)("div",{className:"date",children:[(0,C.jsx)("label",{htmlFor:"date",children:"Choose date:"}),(0,C.jsx)(I(),{id:"date",dateFormat:"dd-MM-yyyy",selected:h,onChange:n=>{x(n)}})]}),Object.values(n).map(((n,e,s)=>(0,C.jsx)(k,{id:n.id,name:n.name,subCategories:n.subCategories,visible:n.id===r,onCategoryChecked:()=>{c(n.id)},onSubcategoryChecked:n=>{p(n)}},n.id)))]}),(0,C.jsx)("input",{id:"cost-count",type:"text",name:"cost-count",placeholder:"Please input cost",onChange:()=>{const n=document.getElementById("cost-count");n&&l(Number(n.value))}}),(0,C.jsx)("button",{onClick:()=>{d&&g((0,N.pv)({categoryId:r,subCategoryId:u,count:d,costDate:h.setHours(0,0,0,0).toString(),userId:e.uid})),l(null)},children:"Ok"})]})},F=t.lazy((()=>s.e(98).then(s.bind(s,4098)))),$=()=>{const[n,e,s]=(0,i.F_)(a.I8),[d,l]=(0,t.useState)(!1),[r,c]=(0,t.useState)((()=>{const n=new Date,e=n.toLocaleString("en",{month:"long"}),s=n.getFullYear();return`${n.getDate()} ${e} ${s}`})()),u=(0,j.v9)((n=>n.settings.categories)),p=((0,j.v9)((n=>n.settings.loading)),(0,o.k6)()),h=(0,j.I0)();return(0,t.useEffect)((()=>{if(!e)return n?void h((0,v.pE)(n.uid)):p.push("/")}),[n,e]),(0,C.jsxs)("div",{className:"dashboard",children:[(0,C.jsxs)("p",{className:"dashboard__date",children:["Today: ",r]}),(0,C.jsx)("div",{className:"dashboard__container",children:(0,C.jsx)("div",{className:"dashboard__container",children:(0,C.jsxs)("div",{className:"container__statistics",children:[(0,C.jsx)("h2",{className:"statistics__header",children:"Стастистика расходов"}),Object.values(u)?(0,C.jsxs)("div",{className:"statistics__add add",children:[(0,C.jsx)("button",{className:"button btn-primary",onClick:()=>{l(!d)},children:"Add Cost"}),d&&(0,C.jsx)(E,{})]}):"",Object.values(u).length>0?(0,C.jsx)(F,{}):(0,C.jsxs)("p",{style:{alignSelf:"center",marginLeft:"auto",marginRight:"auto"},children:[" ",'"В настоящее время список категорий пуст. Категории можно добавить во вкладке Categories"']})]})})})]})},D=$},741:(n,e,s)=>{s.d(e,{Z:()=>d});var t=s(8081),a=s.n(t),i=s(3645),o=s.n(i)()(a());o.push([n.id,".dashboard {\n  display: flex;\n  flex-flow: column;\n}\n\n.dashboard__container {\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n  margin-top: 30px;\n}\n\n.dashboard__date {\n  align-self: flex-end;\n}\n\n.dashboard__statistics {\n  display: flex;\n  flex-flow: row nowrap;\n}\n\n.dashboard__btn {\n  padding: 10px;\n  font-size: 18px;\n  margin-top: 10px;\n  border: none;\n  color: white;\n  background-color: black;\n}\n\n.container__statistics {\n  position: relative;\n  width: 100%;\n  display: flex;\n  background-color: whitesmoke;\n  justify-content: space-between;\n  padding: 20px;\n  border-radius: 20px;\n  min-height: 500px;\n}\n\n.statistics__filter {\n  margin-top: 30px;\n  display: flex;\n  column-gap: 20px;\n  flex-wrap: nowrap;\n}\n\n.statistics {\n  margin-top: 50px;\n  flex-basis: 80%;\n  position: relative;\n}\n\n.statistics__header {\n  position: absolute;\n  width: 100%;\n  text-align: center;\n}\n\n.statistics__info {\n  display: flex;\n  justify-content: space-between;\n  margin-top: 20px;\n}\n\n.statistics__add {\n  position: relative;\n  order: -1;\n  z-index: 2;\n}\n\n.statistics__graphics {\n}\n\n.statistics__info {\n  display: flex;\n  flex-flow: row wrap;\n}\n\n.info__graphics {\n}\n\n.info__table {\n  order: -1;\n  flex-basis: 60%;\n}\n",""]);const d=o},694:(n,e,s)=>{s.d(e,{Z:()=>d});var t=s(8081),a=s.n(t),i=s(3645),o=s.n(i)()(a());o.push([n.id,".modal {\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  row-gap: 20px;\n  top: 30px;\n  background-color: rgba(115, 151, 212, 0.5);\n  padding: 20px;\n  border-radius: 10px;\n  max-width: 500px;\n}\n\n.fieldset {\n  display: flex;\n  flex-flow: column;\n  row-gap: 20px;\n  border: none;\n}\n\n.date {\n  margin-top: 10px;\n}\n",""]);const d=o}}]);